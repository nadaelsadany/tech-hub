import{b as G}from"./chunk-UM6B7XYO.js";import"./chunk-NAJWCQTC.js";import{a as E,b as w}from"./chunk-3NY7DZAO.js";import{c as x,d as I}from"./chunk-F3IDZWT3.js";import{c as M,d as R,e as k,f as A,g as P,h as B,i as F}from"./chunk-H2G74B6L.js";import"./chunk-CESBHL5B.js";import"./chunk-GC2JCOQQ.js";import{a as _,b as V}from"./chunk-2QDM327Y.js";import{a as T,b as $,c as D}from"./chunk-H5EFK6NK.js";import"./chunk-Y4SKA4DN.js";import"./chunk-LF3AIU6I.js";import"./chunk-OX3V4ML4.js";import"./chunk-5AAZBCL7.js";import"./chunk-6RCJUTWS.js";import"./chunk-YLQVLZ7P.js";import"./chunk-CN3ZPC5G.js";import"./chunk-4VDSMCYZ.js";import{j as h,m as g,n as N,p as O}from"./chunk-7ENSWGND.js";import{Lc as S,Pc as d,Qc as m,Rc as y,Sb as r,Tb as t,Ub as a,Vb as c,bb as e,lb as v,rb as f,rc as C,u as s,wc as p,xb as b,xc as u}from"./chunk-WBOJ7OJP.js";var j=()=>[];function q(l,z){if(l&1&&(t(0,"tr")(1,"td"),p(2),a(),t(3,"td")(4,"nz-tag",8),p(5),a()(),t(6,"td"),p(7),d(8,"date"),a(),t(9,"td"),p(10),a()()),l&2){let i=z.$implicit;e(2),u(i.number),e(2),r("nzColor","gold"),e(),u(i.status),e(2),u(y(8,5,i.createdAt,"shortTime")),e(3),u(i.priority)}}var W=class l{constructor(z){this.stateService=z;let i=this.stateService.workOrders$;this.newCount$=i.pipe(s(n=>n.filter(o=>o.status==="New").length)),this.readyCount$=i.pipe(s(n=>n.filter(o=>o.status==="Ready").length)),this.assignedCount$=i.pipe(s(n=>n.filter(o=>["Assigned","EnRoute","OnSite"].includes(o.status)).length)),this.completedCount$=i.pipe(s(n=>n.filter(o=>o.status==="Completed").length)),this.atRiskOrders$=i.pipe(s(n=>n.filter(o=>o.status==="Ready")))}newCount$;readyCount$;assignedCount$;completedCount$;atRiskOrders$;ngOnInit(){}static \u0275fac=function(i){return new(i||l)(v(G))};static \u0275cmp=f({type:l,selectors:[["app-dashboard"]],decls:36,vars:27,consts:[["basicTable",""],[1,"dashboard-container"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[3,"nzValue","nzTitle"],[1,"at-risk-section",2,"margin-top","24px"],[3,"nzData","nzShowPagination"],[4,"ngFor","ngForOf"],[3,"nzColor"]],template:function(i,n){if(i&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"nz-card"),c(4,"nz-statistic",4),d(5,"async"),a()(),t(6,"div",3)(7,"nz-card"),c(8,"nz-statistic",4),d(9,"async"),a()(),t(10,"div",3)(11,"nz-card"),c(12,"nz-statistic",4),d(13,"async"),a()(),t(14,"div",3)(15,"nz-card"),c(16,"nz-statistic",4),d(17,"async"),a()()(),t(18,"div",5)(19,"h3"),p(20,"At Risk / Attention Needed"),a(),t(21,"nz-table",6,0),d(23,"async"),t(24,"thead")(25,"tr")(26,"th"),p(27,"Order #"),a(),t(28,"th"),p(29,"Status"),a(),t(30,"th"),p(31,"Created"),a(),t(32,"th"),p(33,"Priority"),a()()(),t(34,"tbody"),b(35,q,11,8,"tr",7),a()()()()),i&2){let o=C(22);e(),r("nzGutter",16),e(),r("nzSpan",6),e(2),r("nzValue",m(5,16,n.newCount$))("nzTitle","New Orders"),e(2),r("nzSpan",6),e(2),r("nzValue",m(9,18,n.readyCount$))("nzTitle","Ready to Assign"),e(2),r("nzSpan",6),e(2),r("nzValue",m(13,20,n.assignedCount$))("nzTitle","Assigned / In Progress"),e(2),r("nzSpan",6),e(2),r("nzValue",m(17,22,n.completedCount$))("nzTitle","Completed Today"),e(5),r("nzData",m(23,24,n.atRiskOrders$)||S(26,j))("nzShowPagination",!1),e(14),r("ngForOf",o.data)}},dependencies:[O,h,D,$,T,w,E,I,x,F,A,M,R,B,k,P,V,_,g,N],encapsulation:2})};export{W as DashboardComponent};
