import{a as ct}from"./chunk-T3X7QM7L.js";import{a as nt}from"./chunk-XMT5HPYK.js";import"./chunk-LAGV6VRJ.js";import{a as rt,c as at,d as lt}from"./chunk-BVFQVL7G.js";import{b as je}from"./chunk-UM6B7XYO.js";import"./chunk-NAJWCQTC.js";import{c as Se,d as Ne}from"./chunk-F3IDZWT3.js";import{a as it,b as ot}from"./chunk-4EU5S7LO.js";import{a as et,b as tt}from"./chunk-XIN4KULS.js";import{a as Ue,b as $e,c as He,d as Ke,e as Ye,k as Ze,l as Je,m as Qe,n as Xe}from"./chunk-FDJQSJ4V.js";import"./chunk-WESEQCCP.js";import"./chunk-JHEXQXAK.js";import{a as Ge,b as We}from"./chunk-2QDM327Y.js";import{a as xe,b as ve,c as ye}from"./chunk-H5EFK6NK.js";import{g as ke,h as Pe,j as Le,k as Fe,o as Re,p as qe,q as Be}from"./chunk-Y4SKA4DN.js";import"./chunk-LF3AIU6I.js";import"./chunk-OX3V4ML4.js";import{g as ge}from"./chunk-5AAZBCL7.js";import{b as me,d as se,e as de,g as pe}from"./chunk-6RCJUTWS.js";import{d as Te,e as _,g as be,h as Ie,j as we,k as Ae,m as Ee,n as Me,p as Oe,q as De,r as Ve}from"./chunk-YLQVLZ7P.js";import"./chunk-CN3ZPC5G.js";import{x as ze}from"./chunk-4VDSMCYZ.js";import{Fa as he,Ga as B,Ha as k,Ia as P,j as ae,k as le,p as ce,w as ue,y as fe,ya as _e,za as Ce}from"./chunk-7ENSWGND.js";import{$b as Q,Ac as te,Bc as ne,Cc as ie,Da as K,I as W,Jb as J,L as j,Lb as v,Lc as q,Ma as Y,Mc as oe,Nb as y,Sb as l,Sc as V,Tb as r,Ub as o,V as R,Vb as u,Zb as A,_b as E,ac as T,ba as U,bb as i,dd as re,fa as w,fc as S,gd as M,h as L,hc as m,la as h,lb as N,ma as g,n as F,o as I,qa as $,rb as O,rc as D,sa as H,sb as Z,tc as X,wc as c,xb as f,xc as b,yc as ee}from"./chunk-WBOJ7OJP.js";function _t(t,n){t&1&&Q(0)}function Ct(t,n){if(t&1&&f(0,_t,1,0,"ng-container",7),t&2){let e=m(3);l("nzStringTemplateOutlet",e.nzIcon)}}function ht(t,n){if(t&1&&u(0,"nz-icon",6),t&2){let e=m(3);l("nzType",e.nzIconType||e.inferredIconType)("nzTheme",e.iconTheme)}}function gt(t,n){if(t&1&&(r(0,"div",2),v(1,Ct,1,1,"ng-container")(2,ht,1,2,"nz-icon",6),o()),t&2){let e=m(2);i(),y(e.nzIcon?1:2)}}function xt(t,n){if(t&1&&(A(0),c(1),E()),t&2){let e=m(4);i(),b(e.nzMessage)}}function vt(t,n){if(t&1&&(r(0,"span",8),f(1,xt,2,1,"ng-container",7),o()),t&2){let e=m(3);i(),l("nzStringTemplateOutlet",e.nzMessage)}}function yt(t,n){if(t&1&&(A(0),c(1),E()),t&2){let e=m(4);i(),b(e.nzDescription)}}function St(t,n){if(t&1&&(r(0,"span",9),f(1,yt,2,1,"ng-container",7),o()),t&2){let e=m(3);i(),l("nzStringTemplateOutlet",e.nzDescription)}}function Nt(t,n){if(t&1&&(r(0,"div",3),v(1,vt,2,1,"span",8),v(2,St,2,1,"span",9),o()),t&2){let e=m(2);i(),y(e.nzMessage?1:-1),i(),y(e.nzDescription?2:-1)}}function Tt(t,n){if(t&1&&(A(0),c(1),E()),t&2){let e=m(3);i(),b(e.nzAction)}}function bt(t,n){if(t&1&&(r(0,"div",4),f(1,Tt,2,1,"ng-container",7),o()),t&2){let e=m(2);i(),l("nzStringTemplateOutlet",e.nzAction)}}function It(t,n){if(t&1&&(A(0),r(1,"span",12),c(2),o(),E()),t&2){let e=m(4);i(2),b(e.nzCloseText)}}function wt(t,n){if(t&1&&f(0,It,3,1,"ng-container",7),t&2){let e=m(3);l("nzStringTemplateOutlet",e.nzCloseText)}}function At(t,n){t&1&&u(0,"nz-icon",11)}function Et(t,n){if(t&1){let e=T();r(0,"button",10),S("click",function(){h(e);let s=m(2);return g(s.closeAlert())}),v(1,wt,1,1,"ng-container")(2,At,1,0,"nz-icon",11),o()}if(t&2){let e=m(2);i(),y(e.nzCloseText?1:2)}}function Mt(t,n){if(t&1){let e=T();r(0,"div",1),J(function(s){h(e);let p=m();return g(p.onLeaveAnimationDone(s))}),v(1,gt,3,1,"div",2),v(2,Nt,3,2,"div",3),v(3,bt,2,1,"div",4),v(4,Et,3,1,"button",5),o()}if(t&2){let e=m();X("ant-alert-rtl",e.dir==="rtl")("ant-alert-success",e.nzType==="success")("ant-alert-info",e.nzType==="info")("ant-alert-warning",e.nzType==="warning")("ant-alert-error",e.nzType==="error")("ant-alert-no-icon",!e.nzShowIcon)("ant-alert-banner",e.nzBanner)("ant-alert-closable",e.nzCloseable)("ant-alert-with-description",!!e.nzDescription),l("nzNoAnimation",e.nzNoAnimation),i(),y(e.nzShowIcon?1:-1),i(),y(e.nzMessage||e.nzDescription?2:-1),i(),y(e.nzAction?3:-1),i(),y(e.nzCloseable||e.nzCloseText?4:-1)}}var mt="alert",Ot=(()=>{let t,n=[],e=[],a,s=[],p=[];return class G{static{let z=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[B()],a=[B()],F(null,null,t,{kind:"field",name:"nzCloseable",static:!1,private:!1,access:{has:d=>"nzCloseable"in d,get:d=>d.nzCloseable,set:(d,x)=>{d.nzCloseable=x}},metadata:z},n,e),F(null,null,a,{kind:"field",name:"nzShowIcon",static:!1,private:!1,access:{has:d=>"nzShowIcon"in d,get:d=>d.nzShowIcon,set:(d,x)=>{d.nzShowIcon=x}},metadata:z},s,p),z&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:z})}cdr=w(re);directionality=w(ue);destroyRef=w($);animationType=w(Y,{optional:!0});_nzModuleName=mt;nzAction=null;nzCloseText=null;nzIconType=null;nzMessage=null;nzDescription=null;nzType="info";nzCloseable=I(this,n,!1);nzShowIcon=(I(this,e),I(this,s,!1));nzBanner=(I(this,p),!1);nzNoAnimation=!1;nzIcon=null;nzOnClose=new H;closed=!1;iconTheme="fill";inferredIconType="info-circle";dir="ltr";isTypeSet=!1;isShowIconSet=!1;constructor(){he(mt,()=>this.cdr.markForCheck())}ngOnInit(){this.directionality.change?.pipe(fe(this.destroyRef)).subscribe(z=>{this.dir=z,this.cdr.detectChanges()}),this.dir=this.directionality.value}closeAlert(){this.closed=!0,(this.nzNoAnimation||this.animationType==="NoopAnimations")&&this.nzOnClose.emit(!0)}onLeaveAnimationDone(z){let d=z.target;if(this.nzNoAnimation||this.animationType==="NoopAnimations"){z.animationComplete();return}d.classList.add("ant-alert-motion-leave","ant-alert-motion-leave-active");let x=()=>{d.removeEventListener("transitionend",x),this.nzOnClose.emit(!0),z.animationComplete()};d.addEventListener("transitionend",x)}ngOnChanges(z){let{nzShowIcon:d,nzDescription:x,nzType:pt,nzBanner:ut}=z;if(d&&(this.isShowIconSet=!0),pt)switch(this.isTypeSet=!0,this.nzType){case"error":this.inferredIconType="close-circle";break;case"success":this.inferredIconType="check-circle";break;case"info":this.inferredIconType="info-circle";break;case"warning":this.inferredIconType="exclamation-circle";break}x&&(this.iconTheme=this.nzDescription?"outline":"fill"),ut&&(this.isTypeSet||(this.nzType="warning"),this.isShowIconSet||(this.nzShowIcon=!0))}static \u0275fac=function(d){return new(d||G)};static \u0275cmp=O({type:G,selectors:[["nz-alert"]],inputs:{nzAction:"nzAction",nzCloseText:"nzCloseText",nzIconType:"nzIconType",nzMessage:"nzMessage",nzDescription:"nzDescription",nzType:"nzType",nzCloseable:[2,"nzCloseable","nzCloseable",M],nzShowIcon:[2,"nzShowIcon","nzShowIcon",M],nzBanner:[2,"nzBanner","nzBanner",M],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",M],nzIcon:"nzIcon"},outputs:{nzOnClose:"nzOnClose"},exportAs:["nzAlert"],features:[K],decls:1,vars:1,consts:[[1,"ant-alert",3,"nzNoAnimation","ant-alert-rtl","ant-alert-success","ant-alert-info","ant-alert-warning","ant-alert-error","ant-alert-no-icon","ant-alert-banner","ant-alert-closable","ant-alert-with-description"],[1,"ant-alert",3,"nzNoAnimation"],[1,"ant-alert-icon"],[1,"ant-alert-content"],[1,"ant-alert-action"],["type","button","tabindex","0",1,"ant-alert-close-icon"],[3,"nzType","nzTheme"],[4,"nzStringTemplateOutlet"],[1,"ant-alert-message"],[1,"ant-alert-description"],["type","button","tabindex","0",1,"ant-alert-close-icon",3,"click"],["nzType","close"],[1,"ant-alert-close-text"]],template:function(d,x){d&1&&v(0,Mt,5,23,"div",0),d&2&&y(x.closed?-1:0)},dependencies:[P,k,Ce,_e,ze],encapsulation:2,changeDetection:0})}})(),st=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275mod=Z({type:t});static \u0275inj=U({imports:[Ot]})}return t})();var Dt=()=>["/crm"],Vt=t=>({id:t}),kt=()=>({standalone:!0});function Pt(t,n){t&1&&(r(0,"nz-tag",46),c(1,"Existing Customer"),o())}function Lt(t,n){t&1&&(r(0,"nz-tag",47),c(1,"New Customer"),o())}function Ft(t,n){if(t&1&&(r(0,"span"),c(1,"Customer Information"),o(),f(2,Pt,2,0,"nz-tag",44)(3,Lt,2,0,"nz-tag",45)),t&2){let e,a=m();i(2),l("ngIf",a.matchedCustomer),i(),l("ngIf",!a.matchedCustomer&&((e=a.form.get("customerPhone"))==null?null:e.value))}}function Rt(t,n){if(t&1&&(r(0,"a",49),c(1,"View Profile"),o()),t&2){let e=m(2);l("routerLink",q(2,Dt))("queryParams",oe(3,Vt,e.matchedCustomer.id))}}function qt(t,n){if(t&1&&f(0,Rt,2,5,"a",48),t&2){let e=m();l("ngIf",e.matchedCustomer)}}function Bt(t,n){t&1&&u(0,"span",53)}function Gt(t,n){t&1&&u(0,"span",54)}function Wt(t,n){t&1&&u(0,"span",55)}function jt(t,n){if(t&1&&f(0,Bt,1,0,"span",50)(1,Gt,1,0,"span",51)(2,Wt,1,0,"span",52),t&2){let e,a=m();l("ngIf",a.phoneSearching),i(),l("ngIf",a.matchedCustomer&&!a.phoneSearching),i(),l("ngIf",!a.matchedCustomer&&!a.phoneSearching&&((e=a.form.get("customerPhone"))==null||e.value==null?null:e.value.length)>=7)}}function Ut(t,n){if(t&1&&(r(0,"span",60),c(1),o()),t&2){let e=m().$implicit;i(),b(e.email)}}function $t(t,n){if(t&1){let e=T();r(0,"div",58),S("click",function(){let s=h(e).$implicit,p=m(2);return g(p.selectCustomer(s))}),r(1,"strong"),c(2),o(),c(3),f(4,Ut,2,1,"span",59),o()}if(t&2){let e=n.$implicit,a=m(2);i(2),b(e.name),i(),ee(" - ",a.formatPhone(e.phone)," "),i(),l("ngIf",e.email)}}function Ht(t,n){if(t&1&&(r(0,"div",56)(1,"p"),c(2,"Multiple customers found. Select one:"),o(),f(3,$t,5,3,"div",57),o()),t&2){let e=m();i(3),l("ngForOf",e.customerMatches)}}function Kt(t,n){if(t&1){let e=T();r(0,"button",61),S("click",function(){h(e);let s=m();return g(s.clearCustomerMatch())}),u(1,"span",62),c(2," Clear match (create new) "),o()}}function Yt(t,n){if(t&1&&u(0,"nz-option",67),t&2){let e=n.$implicit,a=n.index;l("nzValue",a)("nzLabel",e.line1+(e.city?", "+e.city:"")+(a===0?" (Default)":""))}}function Zt(t,n){if(t&1){let e=T();r(0,"div",63)(1,"nz-form-item")(2,"nz-form-label"),c(3,"Use previous address"),o(),r(4,"nz-form-control")(5,"nz-select",64),ie("ngModelChange",function(s){h(e);let p=m();return ne(p.selectedAddressIndex,s)||(p.selectedAddressIndex=s),g(s)}),S("ngModelChange",function(s){h(e);let p=m();return g(p.onAddressSelect(s))}),f(6,Yt,1,2,"nz-option",65),u(7,"nz-option",66),o()()()()}if(t&2){let e=m();i(5),te("ngModel",e.selectedAddressIndex),l("ngModelOptions",q(4,kt)),i(),l("ngForOf",e.matchedCustomer==null?null:e.matchedCustomer.addresses),i(),l("nzValue",-1)}}var dt=class t{constructor(n,e,a,s,p,C,z){this.fb=n;this.stateService=e;this.autoAssign=a;this.customerService=s;this.notification=p;this.router=C;this.route=z;this.form=this.fb.group({customerPhone:[null,[_.required,_.minLength(7)]],customerName:[null,[_.required,_.minLength(2)]],customerEmail:[null,[_.email]],customerUnit:[null],addressLine:[null,[_.required]],city:[null],lat:[40.7128,[_.required,_.min(-90),_.max(90)]],lng:[-74.006,[_.required,_.min(-180),_.max(180)]],category:["AC",[_.required]],priority:["Normal",[_.required]],warranty:[!1],notes:[null]})}form;matchedCustomer=null;customerMatches=[];phoneSearching=!1;phoneStatus="";selectedAddressIndex=null;formatPhone=at;phoneSearch$=new L;destroy$=new L;ngOnInit(){this.phoneSearch$.pipe(W(350),j(),R(this.destroy$)).subscribe(n=>this.searchCustomerByPhone(n)),this.route.queryParams.pipe(R(this.destroy$)).subscribe(n=>{if(n.customerId){let e=this.customerService.getById(n.customerId);e&&this.selectCustomer(e)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onPhoneInput(){let n=this.form.get("customerPhone")?.value||"";n.length>=7?(this.phoneSearching=!0,this.phoneSearch$.next(n)):(this.customerMatches=[],this.matchedCustomer=null)}searchCustomerByPhone(n){let e=rt(n),a=this.customerService.searchByPhone(e);this.phoneSearching=!1,a.length===1?(this.selectCustomer(a[0]),this.customerMatches=[]):a.length>1?(this.customerMatches=a,this.matchedCustomer=null):(this.customerMatches=[],this.matchedCustomer=null)}selectCustomer(n){this.matchedCustomer=n,this.customerMatches=[],this.phoneStatus="success",this.form.patchValue({customerPhone:n.phone,customerName:n.name,customerEmail:n.email||null,customerUnit:n.unit||null}),n.addresses?.length&&(this.selectedAddressIndex=0,this.onAddressSelect(0))}clearCustomerMatch(){this.matchedCustomer=null,this.customerMatches=[],this.phoneStatus="",this.selectedAddressIndex=null,this.form.patchValue({customerName:null,customerEmail:null,customerUnit:null})}onAddressSelect(n){if(n===-1||!this.matchedCustomer?.addresses){this.form.patchValue({addressLine:null,city:null,lat:40.7128,lng:-74.006});return}let e=this.matchedCustomer.addresses[n];this.form.patchValue({addressLine:e.line1,city:e.city||null,lat:e.lat,lng:e.lng})}save(n){if(this.form.invalid){Object.values(this.form.controls).forEach(C=>{C.markAsDirty(),C.updateValueAndValidity({onlySelf:!0})}),this.notification.warning("Validation Error","Please fix the highlighted fields.");return}let e=this.form.value,a={line1:e.addressLine,city:e.city||void 0,lat:e.lat,lng:e.lng},s;this.matchedCustomer?(s=this.matchedCustomer.id,this.customerService.addAddress(s,a),this.customerService.updateLastOrderAt(s)):s=this.customerService.upsertFromOrderForm({phone:e.customerPhone,name:e.customerName,email:e.customerEmail,unit:e.customerUnit,address:a}).customerId;let p={id:"WO-"+Math.floor(Math.random()*1e5),number:"WO-"+(1e3+Math.floor(Math.random()*9e3)),siteId:"SITE-001",customerId:s,category:e.category,priority:e.priority,warranty:e.warranty,status:n==="ready"?"Ready":"New",customer:{name:e.customerName,phone:e.customerPhone||void 0,email:e.customerEmail||void 0,unit:e.customerUnit||void 0},address:a,notes:e.notes,createdAt:new Date().toISOString()};if(this.stateService.addWorkOrder(p),n==="ready"){let C=this.autoAssign.tryAssign(p);C.success?(this.stateService.updateWorkOrderTracked(p.id,{status:"Assigned",assignedTechnicianId:C.technicianId,etaMin:C.etaMin,distanceKm:C.distanceKm}),this.notification.success("Created & Assigned","Nearest technician assigned.")):this.notification.warning("Created (Ready)",`No eligible technicians nearby: ${C.reason}`)}else this.notification.success("Order Created","Work order saved as New.");this.router.navigate(["/orders"])}static \u0275fac=function(e){return new(e||t)(N(Oe),N(je),N(nt),N(lt),N(ct),N(se),N(me))};static \u0275cmp=O({type:t,selectors:[["app-create-order"]],decls:107,vars:30,consts:[["customerCardTitle",""],["customerExtra",""],["phoneSuffix",""],[1,"create-container"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[2,"margin-bottom","16px",3,"nzTitle","nzExtra"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzRequired",""],["nzHasFeedback","","nzErrorTip","Phone is required (7+ digits)",3,"nzValidateStatus"],[3,"nzSuffix"],["nz-input","","formControlName","customerPhone","placeholder","+201001234567",3,"input"],[1,"field-hint"],["class","matches-dropdown",4,"ngIf"],["nzErrorTip","Customer name is required (min 2 characters)"],["nz-input","","formControlName","customerName","placeholder","Full name"],["nzErrorTip","Please enter a valid email"],["nz-input","","formControlName","customerEmail","placeholder","email@example.com","type","email"],["nz-input","","formControlName","customerUnit","placeholder","Apt 4B"],["nz-button","","nzType","link","nzSize","small",3,"click",4,"ngIf"],["nzTitle","Address",2,"margin-bottom","16px"],["style","margin-bottom: 16px;",4,"ngIf"],["nzErrorTip","Address is required"],["nz-input","","formControlName","addressLine","placeholder","123 Main Street"],["nz-input","","formControlName","city","placeholder","New York"],["nzErrorTip","Latitude is required (-90 to 90)"],["formControlName","lat",2,"width","100%",3,"nzMin","nzMax","nzStep"],["nzErrorTip","Longitude is required (-180 to 180)"],["formControlName","lng",2,"width","100%",3,"nzMin","nzMax","nzStep"],["nzTitle","Work Details",2,"margin-bottom","16px"],["formControlName","category",2,"width","100%"],["nzValue","AC","nzLabel","AC"],["nzValue","Mechanical","nzLabel","Mechanical"],["nzValue","Electrical","nzLabel","Electrical"],["formControlName","priority",2,"width","100%"],["nzValue","Low","nzLabel","Low"],["nzValue","Normal","nzLabel","Normal"],["nzValue","High","nzLabel","High"],["nzValue","Urgent","nzLabel","Urgent"],["formControlName","warranty"],["nz-input","","formControlName","notes","rows","3","placeholder","Additional notes..."],[1,"button-row"],["nz-button","","nzType","primary","type","submit"],["nz-button","","nzType","default","type","button",2,"margin-left","8px",3,"click"],["nzColor","success","style","margin-left: 8px;",4,"ngIf"],["nzColor","default","style","margin-left: 8px;",4,"ngIf"],["nzColor","success",2,"margin-left","8px"],["nzColor","default",2,"margin-left","8px"],[3,"routerLink","queryParams",4,"ngIf"],[3,"routerLink","queryParams"],["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","check-circle","nzTheme","fill","style","color: #52c41a;",4,"ngIf"],["nz-icon","","nzType","plus-circle","style","color: #1890ff;",4,"ngIf"],["nz-icon","","nzType","loading"],["nz-icon","","nzType","check-circle","nzTheme","fill",2,"color","#52c41a"],["nz-icon","","nzType","plus-circle",2,"color","#1890ff"],[1,"matches-dropdown"],["class","match-option",3,"click",4,"ngFor","ngForOf"],[1,"match-option",3,"click"],["class","email",4,"ngIf"],[1,"email"],["nz-button","","nzType","link","nzSize","small",3,"click"],["nz-icon","","nzType","close"],[2,"margin-bottom","16px"],["nzPlaceHolder","Select an address...",2,"width","100%",3,"ngModelChange","ngModel","ngModelOptions"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzLabel","Enter new address",3,"nzValue"],[3,"nzValue","nzLabel"]],template:function(e,a){if(e&1){let s=T();r(0,"div",3)(1,"h2"),c(2,"Create Work Order"),o(),r(3,"form",4),S("ngSubmit",function(){return h(s),g(a.save("new"))}),r(4,"nz-card",5),f(5,Ft,4,2,"ng-template",null,0,V)(7,qt,1,1,"ng-template",null,1,V),r(9,"div",6)(10,"div",7)(11,"nz-form-item")(12,"nz-form-label",8),c(13,"Phone"),o(),r(14,"nz-form-control",9)(15,"nz-input-group",10)(16,"input",11),S("input",function(){return h(s),g(a.onPhoneInput())}),o()(),f(17,jt,3,3,"ng-template",null,2,V),o(),r(19,"p",12),c(20,"Type a phone to search existing customers. If found, data will auto-fill."),o()(),f(21,Ht,4,1,"div",13),o(),r(22,"div",7)(23,"nz-form-item")(24,"nz-form-label",8),c(25,"Customer Name"),o(),r(26,"nz-form-control",14),u(27,"input",15),o()()()(),r(28,"div",6)(29,"div",7)(30,"nz-form-item")(31,"nz-form-label"),c(32,"Email"),o(),r(33,"nz-form-control",16),u(34,"input",17),o()()(),r(35,"div",7)(36,"nz-form-item")(37,"nz-form-label"),c(38,"Unit / Apartment"),o(),r(39,"nz-form-control"),u(40,"input",18),o()()()(),f(41,Kt,3,0,"button",19),o(),r(42,"nz-card",20),f(43,Zt,8,5,"div",21),r(44,"div",6)(45,"div",7)(46,"nz-form-item")(47,"nz-form-label",8),c(48,"Address Line"),o(),r(49,"nz-form-control",22),u(50,"input",23),o()()(),r(51,"div",7)(52,"nz-form-item")(53,"nz-form-label"),c(54,"City"),o(),r(55,"nz-form-control"),u(56,"input",24),o()()()(),r(57,"div",6)(58,"div",7)(59,"nz-form-item")(60,"nz-form-label",8),c(61,"Latitude"),o(),r(62,"nz-form-control",25),u(63,"nz-input-number",26),o()()(),r(64,"div",7)(65,"nz-form-item")(66,"nz-form-label",8),c(67,"Longitude"),o(),r(68,"nz-form-control",27),u(69,"nz-input-number",28),o()()()()(),r(70,"nz-card",29)(71,"div",6)(72,"div",7)(73,"nz-form-item")(74,"nz-form-label",8),c(75,"Category"),o(),r(76,"nz-form-control")(77,"nz-select",30),u(78,"nz-option",31)(79,"nz-option",32)(80,"nz-option",33),o()()()(),r(81,"div",7)(82,"nz-form-item")(83,"nz-form-label",8),c(84,"Priority"),o(),r(85,"nz-form-control")(86,"nz-select",34),u(87,"nz-option",35)(88,"nz-option",36)(89,"nz-option",37)(90,"nz-option",38),o()()()(),r(91,"div",7)(92,"nz-form-item")(93,"nz-form-label"),c(94,"Warranty"),o(),r(95,"nz-form-control"),u(96,"nz-switch",39),o()()()(),r(97,"nz-form-item")(98,"nz-form-label"),c(99,"Notes"),o(),r(100,"nz-form-control"),u(101,"textarea",40),o()()(),r(102,"div",41)(103,"button",42),c(104,"Save as New"),o(),r(105,"button",43),S("click",function(){return h(s),g(a.save("ready"))}),c(106,"Save & Ready"),o()()()()}if(e&2){let s=D(6),p=D(8),C=D(18);i(3),l("formGroup",a.form),i(),l("nzTitle",s)("nzExtra",p),i(5),l("nzGutter",16),i(),l("nzSpan",12),i(4),l("nzValidateStatus",a.phoneStatus),i(),l("nzSuffix",C),i(6),l("ngIf",a.customerMatches.length>1),i(),l("nzSpan",12),i(6),l("nzGutter",16),i(),l("nzSpan",12),i(6),l("nzSpan",12),i(6),l("ngIf",a.matchedCustomer),i(2),l("ngIf",a.matchedCustomer==null||a.matchedCustomer.addresses==null?null:a.matchedCustomer.addresses.length),i(),l("nzGutter",16),i(),l("nzSpan",16),i(6),l("nzSpan",8),i(6),l("nzGutter",16),i(),l("nzSpan",12),i(5),l("nzMin",-90)("nzMax",90)("nzStep",1e-4),i(),l("nzSpan",12),i(5),l("nzMin",-180)("nzMax",180)("nzStep",1e-4),i(2),l("nzGutter",16),i(),l("nzSpan",8),i(9),l("nzSpan",8),i(10),l("nzSpan",8)}},dependencies:[ce,ae,le,De,Ae,Te,be,Ie,we,Ve,Me,Ee,pe,de,Ye,ve,xe,$e,Ue,Ke,He,Xe,Ze,Qe,Je,Be,Re,qe,ot,it,Fe,Le,ke,Pe,tt,et,Ne,Se,ye,st,P,k,ge,We,Ge],styles:[".create-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto}.button-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.field-hint[_ngcontent-%COMP%]{font-size:11px;color:#999;margin-top:4px}.matches-dropdown[_ngcontent-%COMP%]{background:#fafafa;border:1px solid #e8e8e8;border-radius:4px;padding:8px;margin-top:8px}.match-option[_ngcontent-%COMP%]{padding:8px;cursor:pointer;border-bottom:1px solid #f0f0f0}.match-option[_ngcontent-%COMP%]:hover{background:#e6f7ff}.match-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.match-option[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:#999;margin-left:8px;font-size:12px}"]})};export{dt as CreateOrderComponent};
