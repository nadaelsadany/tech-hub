import{a as Et}from"./chunk-NAJWCQTC.js";import{c as rt,d as at}from"./chunk-F3IDZWT3.js";import{a as Dt,b as Ot}from"./chunk-4EU5S7LO.js";import{b as Tt}from"./chunk-XSZPG6JQ.js";import{a as Rt,b as It}from"./chunk-XIN4KULS.js";import{a as vt,c as bt,d as St,e as wt,f as U,k as Nt,n as Mt}from"./chunk-FDJQSJ4V.js";import{d as kt}from"./chunk-WESEQCCP.js";import{a as de,b as me}from"./chunk-JHEXQXAK.js";import{a as it,b as nt,c as ot}from"./chunk-H5EFK6NK.js";import{g as ht,h as zt,j as yt,k as Ct,o as gt,p as xt,q as _t}from"./chunk-Y4SKA4DN.js";import"./chunk-LF3AIU6I.js";import"./chunk-OX3V4ML4.js";import{e as z,g as st,h as lt,k as pt,m as ct,n as dt,p as mt,q as ut,r as ft}from"./chunk-YLQVLZ7P.js";import{a as et,i as H}from"./chunk-CN3ZPC5G.js";import"./chunk-4VDSMCYZ.js";import{B as Ze,Ea as tt,Ga as F,Ha as pe,Ia as ce,da as re,ea as Ye,ja as ae,l as He,oa as Xe,p as Ue,pa as Je,w as We,y as v,ya as se,za as le}from"./chunk-7ENSWGND.js";import{Da as J,Ga as G,Lb as _,Mc as Le,N as Oe,Nb as E,Sb as c,Sc as Qe,Tb as r,U as Y,Ub as s,Vb as h,Zb as te,_b as ie,a as Re,aa as Ae,ac as D,b as Ie,ba as B,bb as p,d as ke,dd as $,fa as u,fc as g,gd as A,hb as Ve,hc as f,hd as $e,i as De,ic as je,jc as qe,kb as Be,la as b,lb as L,lc as ne,ma as S,mc as w,n as I,nb as Pe,nc as N,o as x,oa as Fe,pa as q,qa as K,rb as k,rc as Ke,sa as T,sb as P,sc as Q,ta as X,tb as ee,tc as oe,wc as d,xb as j,xc as Ge,yc as O}from"./chunk-WBOJ7OJP.js";var ue=class{_document;_textarea;constructor(a,e){this._document=e;let i=this._textarea=this._document.createElement("textarea"),l=i.style;l.position="fixed",l.top=l.opacity="0",l.left="-999em",i.setAttribute("aria-hidden","true"),i.value=a,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){let a=this._textarea,e=!1;try{if(a){let i=this._document.activeElement;a.select(),a.setSelectionRange(0,a.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){let a=this._textarea;a&&(a.remove(),this._textarea=void 0)}},At=(()=>{class t{_document=u(q);constructor(){}copy(e){let i=this.beginCopy(e),l=i.copy();return i.destroy(),l}beginCopy(e){return new ue(e,this._document)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var he=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ee({type:t,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(i,l){i&2&&Q("border","0")("background","transparent")("padding","0")("line-height","inherit")}})}return t})(),ze=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=P({type:t});static \u0275inj=B({})}return t})();function jt(t,a){if(t&1&&(te(0),h(1,"nz-icon",2),ie()),t&2){let e=a.$implicit;p(),c("nzType",e)}}var qt=["textarea"];function Kt(t,a){if(t&1){let e=D();r(0,"textarea",2,0),g("blur",function(){b(e);let l=f();return S(l.confirm())}),s(),r(2,"button",3),g("click",function(){b(e);let l=f();return S(l.confirm())}),h(3,"nz-icon",4),s()}}function Gt(t,a){if(t&1&&(te(0),h(1,"nz-icon",7),ie()),t&2){let e=a.$implicit;p(),c("nzType",e)}}function Lt(t,a){if(t&1){let e=D();r(0,"button",5),g("click",function(){b(e);let l=f();return S(l.onClick())}),j(1,Gt,2,1,"ng-container",6),s()}if(t&2){let e=f();c("nzTooltipTitle",e.tooltip===null?null:e.tooltip||(e.locale==null?null:e.locale.edit)),p(),c("nzStringTemplateOutlet",e.icon)}}var Qt=["ellipsisContainer"],$t=["expandable"],Ht=["contentTemplate"],Ut=["*"],Wt=t=>({content:t});function Zt(t,a){t&1&&qe(0)}function Yt(t,a){if(t&1&&(_(0,Zt,1,0),d(1)),t&2){let e=a.content;E(e?-1:0),p(),O(" ",e," ")}}function Xt(t,a){}function Jt(t,a){if(t&1&&d(0),t&2){let e=f(3);O(" ",e.nzSuffix," ")}}function ei(t,a){if(t&1&&(j(0,Xt,0,0,"ng-template",5),_(1,Jt,1,1)),t&2){let e=f(2),i=Ke(1);c("ngTemplateOutlet",i)("ngTemplateOutletContext",Le(3,Wt,e.nzContent)),p(),E(e.nzSuffix?1:-1)}}function ti(t,a){if(t&1&&d(0),t&2){let e=f(3);O(" ",e.ellipsisStr," ")}}function ii(t,a){if(t&1&&d(0),t&2){let e=f(3);O(" ",e.nzSuffix," ")}}function ni(t,a){if(t&1){let e=D();r(0,"a",7,2),g("click",function(){b(e);let l=f(3);return S(l.onExpand())}),d(2),s()}if(t&2){let e=f(3);p(2),O(" ",e.locale==null?null:e.locale.expand," ")}}function oi(t,a){if(t&1&&(h(0,"span",null,1),_(2,ti,1,1),_(3,ii,1,1),_(4,ni,3,1,"a",6)),t&2){let e=f(2);p(2),E(e.isEllipsis?2:-1),p(),E(e.nzSuffix?3:-1),p(),E(e.nzExpandable&&e.isEllipsis?4:-1)}}function ri(t,a){if(t&1&&_(0,ei,2,5)(1,oi,5,3),t&2){let e=f();E(e.expanded||!e.hasOperationsWithEllipsis&&e.nzEllipsisRows===1&&!e.hasEllipsisObservers||e.canCssEllipsis||e.nzSuffix&&e.expanded?0:1)}}function ai(t,a){if(t&1){let e=D();r(0,"nz-text-edit",8),g("endEditing",function(l){b(e);let C=f();return S(C.onEndEditing(l))})("startEditing",function(){b(e);let l=f();return S(l.onStartEditing())}),s()}if(t&2){let e=f();c("text",e.nzContent)("icon",e.nzEditIcon)("tooltip",e.nzEditTooltip)}}function si(t,a){if(t&1){let e=D();r(0,"nz-text-copy",9),g("textCopy",function(l){b(e);let C=f();return S(C.onTextCopy(l))}),s()}if(t&2){let e=f();c("text",e.copyText)("tooltips",e.nzCopyTooltips)("icons",e.nzCopyIcons)}}var ye=(()=>{class t{cdr=u($);clipboard=u(At);i18n=u(H);destroyRef=u(K);copied=!1;copyId;locale;nativeElement=u(G).nativeElement;copyTooltip=null;copedTooltip=null;copyIcon="copy";copedIcon="check";text;tooltips;icons=["copy","check"];textCopy=new T;constructor(){this.destroyRef.onDestroy(()=>{clearTimeout(this.copyId)})}ngOnInit(){this.i18n.localeChange.pipe(v(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(e){let{tooltips:i,icons:l}=e;i&&this.updateTooltips(),l&&this.updateIcons()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();let e=this.text;this.textCopy.emit(e),this.clipboard.copy(e),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(this.tooltips===null)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){let[e,i]=this.tooltips;this.copyTooltip=e||this.locale?.copy,this.copedTooltip=i||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){let[e,i]=this.icons;this.copyIcon=e,this.copedIcon=i,this.cdr.markForCheck()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=k({type:t,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],features:[J],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],[3,"nzType"]],template:function(i,l){i&1&&(r(0,"button",0),g("click",function(){return l.onClick()}),j(1,jt,2,1,"ng-container",1),s()),i&2&&(oe("ant-typography-copy-success",l.copied),c("nzTooltipTitle",l.copied?l.copedTooltip:l.copyTooltip),p(),c("nzStringTemplateOutlet",l.copied?l.copedIcon:l.copyIcon))},dependencies:[me,de,ze,he,ce,pe,le,se],encapsulation:2,changeDetection:0})}return t})(),Ce=(()=>{class t{ngZone=u(X);cdr=u($);i18n=u(H);destroyRef=u(K);editing=!1;locale;text;icon="edit";tooltip;startEditing=new T;endEditing=new T(!0);set textarea(e){this.textarea$.next(e)}autosizeDirective;beforeText;currentText;nativeElement=u(G).nativeElement;textarea$=new De(null);injector=u(Fe);ngOnInit(){this.i18n.localeChange.pipe(v(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe(Y(e=>ae(e?.nativeElement,"keydown")),v(this.destroyRef)).subscribe(e=>{e.keyCode!==27&&e.keyCode!==13||this.ngZone.run(()=>{e.keyCode===27?this.onCancel():this.onEnter(e),this.cdr.markForCheck()})}),this.textarea$.pipe(Y(e=>ae(e?.nativeElement,"input")),v(this.destroyRef)).subscribe(e=>{this.currentText=e.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(e){e.stopPropagation(),e.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){let{injector:e}=this;Ve(()=>{this.textarea$.pipe(Oe(i=>i!=null),v(this.destroyRef)).subscribe(i=>{i.nativeElement.focus(),i.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck()})},{injector:e})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=k({type:t,selectors:[["nz-text-edit"]],viewQuery:function(i,l){if(i&1&&ne(qt,5)(U,5),i&2){let C;w(C=N())&&(l.textarea=C.first),w(C=N())&&(l.autosizeDirective=C.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],decls:2,vars:1,consts:[["textarea",""],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"nzTooltipTitle"],["nz-input","","nzAutosize","",3,"blur"],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],[3,"nzType"]],template:function(i,l){i&1&&_(0,Kt,4,0)(1,Lt,2,2,"button",1),i&2&&E(l.editing?0:1)},dependencies:[Mt,Nt,U,ze,he,ce,pe,me,de,le,se],encapsulation:2,changeDetection:0})}return t})(),li="typography",pi="ant-typography-expand",xe=(()=>{let t,a=[],e=[],i,l=[],C=[],_e,Ee=[],Te=[],ve,be=[],Se=[],we,Ne=[],Me=[];return class ge{static{let m=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[F()],i=[F()],_e=[F()],ve=[F()],we=[F()],I(null,null,t,{kind:"field",name:"nzCopyTooltips",static:!1,private:!1,access:{has:o=>"nzCopyTooltips"in o,get:o=>o.nzCopyTooltips,set:(o,n)=>{o.nzCopyTooltips=n}},metadata:m},a,e),I(null,null,i,{kind:"field",name:"nzCopyIcons",static:!1,private:!1,access:{has:o=>"nzCopyIcons"in o,get:o=>o.nzCopyIcons,set:(o,n)=>{o.nzCopyIcons=n}},metadata:m},l,C),I(null,null,_e,{kind:"field",name:"nzEditTooltip",static:!1,private:!1,access:{has:o=>"nzEditTooltip"in o,get:o=>o.nzEditTooltip,set:(o,n)=>{o.nzEditTooltip=n}},metadata:m},Ee,Te),I(null,null,ve,{kind:"field",name:"nzEditIcon",static:!1,private:!1,access:{has:o=>"nzEditIcon"in o,get:o=>o.nzEditIcon,set:(o,n)=>{o.nzEditIcon=n}},metadata:m},be,Se),I(null,null,we,{kind:"field",name:"nzEllipsisRows",static:!1,private:!1,access:{has:o=>"nzEllipsisRows"in o,get:o=>o.nzEllipsisRows,set:(o,n)=>{o.nzEllipsisRows=n}},metadata:m},Ne,Me),m&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})}_nzModuleName=li;nzConfigService=u(tt);el=u(G).nativeElement;cdr=u($);viewContainerRef=u(Pe);renderer=u(Be);platform=u(Ze);i18n=u(H);resizeService=u(et);directionality=u(We);document=u(q);destroyRef=u(K);nzCopyable=!1;nzEditable=!1;nzDisabled=!1;nzExpandable=!1;nzEllipsis=!1;nzCopyTooltips=x(this,a,void 0);nzCopyIcons=(x(this,e),x(this,l,["copy","check"]));nzEditTooltip=(x(this,C),x(this,Ee,void 0));nzEditIcon=(x(this,Te),x(this,be,"edit"));nzContent=x(this,Se);nzEllipsisRows=x(this,Ne,1);nzType=x(this,Me);nzCopyText;nzSuffix;nzContentChange=new T;nzCopy=new T;nzExpandChange=new T;nzOnEllipsis=new T;textEditRef;textCopyRef;ellipsisContainer;expandableBtn;contentTemplate;locale;expandableBtnElementCache=null;editing=!1;ellipsisText;cssEllipsis=!1;isEllipsis=!0;expanded=!1;ellipsisStr="...";dir="ltr";get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}viewInit=!1;requestId=-1;windowResizeSubscription=ke.EMPTY;get copyText(){return typeof this.nzCopyText=="string"?this.nzCopyText:this.nzContent}constructor(){this.destroyRef.onDestroy(()=>{this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()})}onTextCopy(m){this.nzCopy.emit(m)}onStartEditing(){this.editing=!0}onEndEditing(m){this.editing=!1,this.nzContentChange.emit(m),this.nzContent===m&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers?!1:this.nzEllipsisRows===1?re("textOverflow"):re("webkitLineClamp")}renderOnNextFrame(){Je(this.requestId),!(!this.viewInit||!this.nzEllipsis||this.nzEllipsisRows<0||this.expanded||!this.platform.isBrowser)&&(this.requestId=Xe(()=>this.syncEllipsis()))}getOriginContentViewRef(){let m=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return m.detectChanges(),{viewRef:m,removeView:()=>this.viewContainerRef.remove(this.viewContainerRef.indexOf(m))}}syncEllipsis(){if(this.cssEllipsis)return;let{viewRef:m,removeView:o}=this.getOriginContentViewRef(),n=[this.textCopyRef,this.textEditRef].filter(R=>R&&R.nativeElement).map(R=>R.nativeElement),y=this.getExpandableBtnElement();y&&n.push(y);let{contentNodes:W,text:Z,ellipsis:V}=Ye(this.el,this.nzEllipsisRows,m.rootNodes,n,this.ellipsisStr,this.nzSuffix);o(),this.ellipsisText=Z,V!==this.isEllipsis&&(this.isEllipsis=V,this.nzOnEllipsis.emit(V));let M=this.ellipsisContainer.nativeElement;for(;M.firstChild;)this.renderer.removeChild(M,M.firstChild);W.forEach(R=>{this.renderer.appendChild(M,R.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){let m=this.locale?this.locale.expand:"",o=this.expandableBtnElementCache;if(!o||o.innerText===m){let n=this.document.createElement("a");n.className=pi,n.innerText=m,this.expandableBtnElementCache=n}return this.expandableBtnElementCache}else return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.connect().pipe(v(this.destroyRef)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe(v(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe(v(this.destroyRef)).subscribe(m=>{this.dir=m,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(m){let{nzCopyable:o,nzEditable:n,nzExpandable:y,nzEllipsis:W,nzContent:Z,nzEllipsisRows:V,nzSuffix:M}=m;(o||n||y||W||Z||V||M)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}static \u0275fac=function(o){return new(o||ge)};static \u0275cmp=k({type:ge,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(o,n){if(o&1&&ne(Ce,5)(ye,5)(Qt,5)($t,5)(Ht,5),o&2){let y;w(y=N())&&(n.textEditRef=y.first),w(y=N())&&(n.textCopyRef=y.first),w(y=N())&&(n.ellipsisContainer=y.first),w(y=N())&&(n.expandableBtn=y.first),w(y=N())&&(n.contentTemplate=y.first)}},hostVars:26,hostBindings:function(o,n){o&2&&(Q("-webkit-line-clamp",n.canCssEllipsis&&n.nzEllipsisRows>1?n.nzEllipsisRows:null),oe("ant-typography",!n.editing)("ant-typography-rtl",n.dir==="rtl")("ant-typography-edit-content",n.editing)("ant-typography-secondary",n.nzType==="secondary")("ant-typography-warning",n.nzType==="warning")("ant-typography-danger",n.nzType==="danger")("ant-typography-success",n.nzType==="success")("ant-typography-disabled",n.nzDisabled)("ant-typography-ellipsis",n.nzEllipsis&&!n.expanded)("ant-typography-single-line",n.nzEllipsis&&n.nzEllipsisRows===1)("ant-typography-ellipsis-single-line",n.canCssEllipsis&&n.nzEllipsisRows===1)("ant-typography-ellipsis-multiple-line",n.canCssEllipsis&&n.nzEllipsisRows>1))},inputs:{nzCopyable:[2,"nzCopyable","nzCopyable",A],nzEditable:[2,"nzEditable","nzEditable",A],nzDisabled:[2,"nzDisabled","nzDisabled",A],nzExpandable:[2,"nzExpandable","nzExpandable",A],nzEllipsis:[2,"nzEllipsis","nzEllipsis",A],nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:[2,"nzEllipsisRows","nzEllipsisRows",$e],nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],features:[J],ngContentSelectors:Ut,decls:5,vars:3,consts:[["contentTemplate",""],["ellipsisContainer",""],["expandable",""],[3,"text","icon","tooltip"],[3,"text","tooltips","icons"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-typography-expand"],[1,"ant-typography-expand",3,"click"],[3,"endEditing","startEditing","text","icon","tooltip"],[3,"textCopy","text","tooltips","icons"]],template:function(o,n){o&1&&(je(),j(0,Yt,2,2,"ng-template",null,0,Qe),_(2,ri,2,1),_(3,ai,1,3,"nz-text-edit",3),_(4,si,1,3,"nz-text-copy",4)),o&2&&(p(2),E(n.editing?-1:2),p(),E(n.nzEditable?3:-1),p(),E(n.nzCopyable&&!n.editing?4:-1))},dependencies:[He,Ce,ye],encapsulation:2,changeDetection:0})}})(),Ft=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=P({type:t});static \u0275inj=B({imports:[xe,ye,Ce]})}return t})();var Vt=class t{constructor(a,e,i){this.fb=a;this.configService=e;this.message=i;this.form=this.fb.group({avgSpeedKmh:[35,[z.required,z.min(1),z.max(200)]],maxRadiusKm:[25,[z.required,z.min(1),z.max(500)]],heartbeatMaxAgeMin:[10,[z.required,z.min(1),z.max(60)]],requireSkillMatch:[!1],defaultServiceTimeMin:[45,[z.required,z.min(5),z.max(480)]],planningAvgSpeedKmh:[35,[z.min(1),z.max(200)]],autoAssignMode:["nearest"],fallbackRadiusKm:[50,[z.min(1),z.max(500)]],enableMapPreview:[!0],compactTableMode:[!1],theme:["light"]})}form;defaultValues={avgSpeedKmh:35,maxRadiusKm:25,heartbeatMaxAgeMin:10,requireSkillMatch:!1,defaultSiteId:"SITE-001",defaultServiceTimeMin:45,planningAvgSpeedKmh:35,autoAssignMode:"nearest",fallbackRadiusKm:50,enableMapPreview:!0,compactTableMode:!1,theme:"light"};ngOnInit(){let a=this.configService.getConfig();this.form.patchValue(Ie(Re({},a),{autoAssignMode:"nearest",fallbackRadiusKm:50,enableMapPreview:!0,compactTableMode:!1,theme:"light"}))}saveConfig(){if(this.form.valid){let a=this.form.value;this.configService.updateConfig({avgSpeedKmh:a.avgSpeedKmh,maxRadiusKm:a.maxRadiusKm,heartbeatMaxAgeMin:a.heartbeatMaxAgeMin,requireSkillMatch:a.requireSkillMatch,defaultServiceTimeMin:a.defaultServiceTimeMin,planningAvgSpeedKmh:a.planningAvgSpeedKmh}),this.message.success("Configuration saved successfully")}else this.message.error("Please fix validation errors")}resetDefaults(){this.form.patchValue(this.defaultValues),this.message.info("Settings reset to defaults")}static \u0275fac=function(e){return new(e||t)(L(mt),L(Et),L(kt))};static \u0275cmp=k({type:t,selectors:[["app-settings"]],decls:110,vars:30,consts:[[1,"settings-container"],["nz-typography",""],[1,"subtitle"],[3,"formGroup"],["nzTitle","Assignment Settings",1,"section-card"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzErrorTip","Required (1-200)"],["formControlName","avgSpeedKmh",2,"width","100%",3,"nzMin","nzMax"],[1,"field-hint"],["nzErrorTip","Required (1-500)"],["formControlName","maxRadiusKm",2,"width","100%",3,"nzMin","nzMax"],["formControlName","heartbeatMaxAgeMin",2,"width","100%",3,"nzMin","nzMax"],["formControlName","requireSkillMatch"],[1,"switch-label"],["nzTitle","Planning Settings",1,"section-card"],["formControlName","defaultServiceTimeMin",2,"width","100%",3,"nzMin","nzMax"],["formControlName","planningAvgSpeedKmh",2,"width","100%",3,"nzMin","nzMax"],["nzTitle","Dispatch Behavior",1,"section-card"],["formControlName","autoAssignMode",2,"width","100%"],["nzValue","off","nzLabel","Off"],["nzValue","nearest","nzLabel","Nearest Technician"],["nzValue","planning-only","nzLabel","Daily Planning Only"],["formControlName","fallbackRadiusKm",2,"width","100%",3,"nzMin","nzMax"],["nzTitle","Display Preferences",1,"section-card"],["formControlName","enableMapPreview"],["formControlName","compactTableMode"],["formControlName","theme",2,"width","100%"],["nzValue","light","nzLabel","Light"],["nzValue","dark","nzLabel","Dark"],["nzValue","system","nzLabel","System"],[1,"actions-row"],["nz-button","","nzType","default","nzGhost","",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h2",1),d(2,"Settings"),s(),r(3,"p",2),d(4,"Configure dispatch behavior, planning parameters, and display preferences."),s(),r(5,"form",3)(6,"nz-card",4)(7,"div",5)(8,"div",6)(9,"nz-form-item")(10,"nz-form-label"),d(11,"Average Speed (km/h)"),s(),r(12,"nz-form-control",7),h(13,"nz-input-number",8),s(),r(14,"p",9),d(15,"Used to calculate ETA for nearest technician assignment."),s()()(),r(16,"div",6)(17,"nz-form-item")(18,"nz-form-label"),d(19,"Max Assignment Radius (km)"),s(),r(20,"nz-form-control",10),h(21,"nz-input-number",11),s(),r(22,"p",9),d(23,"Maximum distance for auto-assignment eligibility."),s()()()(),r(24,"div",5)(25,"div",6)(26,"nz-form-item")(27,"nz-form-label"),d(28,"Heartbeat Max Age (min)"),s(),r(29,"nz-form-control"),h(30,"nz-input-number",12),s(),r(31,"p",9),d(32,"How old a technician's last location update can be."),s()()(),r(33,"div",6)(34,"nz-form-item")(35,"nz-form-label"),d(36,"Require Skill Match"),s(),r(37,"nz-form-control"),h(38,"nz-switch",13),r(39,"span",14),d(40),s()(),r(41,"p",9),d(42,"Only assign techs whose skills match the job category."),s()()()()(),r(43,"nz-card",15)(44,"div",5)(45,"div",6)(46,"nz-form-item")(47,"nz-form-label"),d(48,"Default Service Time (min)"),s(),r(49,"nz-form-control"),h(50,"nz-input-number",16),s(),r(51,"p",9),d(52,"Default job duration when not specified on work order."),s()()(),r(53,"div",6)(54,"nz-form-item")(55,"nz-form-label"),d(56,"Planning Avg Speed (km/h)"),s(),r(57,"nz-form-control"),h(58,"nz-input-number",17),s(),r(59,"p",9),d(60,"Used for ETA estimates when planning routes."),s()()()()(),r(61,"nz-card",18)(62,"div",5)(63,"div",6)(64,"nz-form-item")(65,"nz-form-label"),d(66,"Auto-Assign Mode"),s(),r(67,"nz-form-control")(68,"nz-select",19),h(69,"nz-option",20)(70,"nz-option",21)(71,"nz-option",22),s()(),r(72,"p",9),d(73,"How orders are automatically assigned when set to Ready."),s()()(),r(74,"div",6)(75,"nz-form-item")(76,"nz-form-label"),d(77,"Fallback Radius (km)"),s(),r(78,"nz-form-control"),h(79,"nz-input-number",23),s(),r(80,"p",9),d(81,"Extended radius when no techs found within max radius."),s()()()()(),r(82,"nz-card",24)(83,"div",5)(84,"div",6)(85,"nz-form-item")(86,"nz-form-label"),d(87,"Enable Map Preview"),s(),r(88,"nz-form-control"),h(89,"nz-switch",25),s()()(),r(90,"div",6)(91,"nz-form-item")(92,"nz-form-label"),d(93,"Compact Table Mode"),s(),r(94,"nz-form-control"),h(95,"nz-switch",26),s()()(),r(96,"div",6)(97,"nz-form-item")(98,"nz-form-label"),d(99,"Theme"),s(),r(100,"nz-form-control")(101,"nz-select",27),h(102,"nz-option",28)(103,"nz-option",29)(104,"nz-option",30),s()()()()()(),r(105,"div",31)(106,"button",32),g("click",function(){return i.resetDefaults()}),d(107,"Reset to Defaults"),s(),r(108,"button",33),g("click",function(){return i.saveConfig()}),d(109,"Save Configuration"),s()()()()),e&2&&(p(5),c("formGroup",i.form),p(2),c("nzGutter",24),p(),c("nzSpan",12),p(5),c("nzMin",1)("nzMax",200),p(3),c("nzSpan",12),p(5),c("nzMin",1)("nzMax",500),p(3),c("nzGutter",24),p(),c("nzSpan",12),p(5),c("nzMin",1)("nzMax",60),p(3),c("nzSpan",12),p(7),Ge(i.form.value.requireSkillMatch?"Yes":"No"),p(4),c("nzGutter",24),p(),c("nzSpan",12),p(5),c("nzMin",5)("nzMax",480),p(3),c("nzSpan",12),p(5),c("nzMin",1)("nzMax",200),p(4),c("nzGutter",24),p(),c("nzSpan",12),p(11),c("nzSpan",12),p(5),c("nzMin",1)("nzMax",500),p(4),c("nzGutter",24),p(),c("nzSpan",8),p(6),c("nzSpan",8),p(6),c("nzSpan",8))},dependencies:[Ue,ut,pt,st,lt,ft,dt,ct,wt,nt,it,vt,St,bt,It,Rt,Ot,Dt,Ct,yt,ht,zt,at,rt,ot,_t,gt,xt,Tt,Ft,xe],styles:[".settings-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.subtitle[_ngcontent-%COMP%]{color:#666;margin-bottom:24px}.section-card[_ngcontent-%COMP%]{margin-bottom:24px}.section-card[_ngcontent-%COMP%]     .ant-card-head-title{font-weight:600;font-size:15px}.field-hint[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-top:4px;margin-bottom:0}.switch-label[_ngcontent-%COMP%]{margin-left:8px;color:#666}nz-form-item[_ngcontent-%COMP%]{margin-bottom:16px}.actions-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-top:24px;padding-bottom:24px}"]})};export{Vt as SettingsComponent};
